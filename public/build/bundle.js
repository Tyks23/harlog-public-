var app=function(){"use strict";function t(){}function e(t,e){for(const n in e)t[n]=e[n];return t}function n(t){return t()}function o(){return Object.create(null)}function r(t){t.forEach(n)}function i(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(t,e){t.appendChild(e)}function l(t,e,n){t.insertBefore(e,n||null)}function c(t){t.parentNode.removeChild(t)}function u(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function p(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function m(){return d(" ")}function g(){return d("")}function f(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function h(t){return function(e){return e.preventDefault(),t.call(this,e)}}function v(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function y(t){return""===t?null:+t}function x(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function w(t,e){t.value=null==e?"":e}function k(t,e,n,o){t.style.setProperty(e,n,o?"important":"")}function b(t,e){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];if(o.__value===e)return void(o.selected=!0)}}let _;function S(t){_=t}function C(){if(!_)throw new Error("Function called outside component initialization");return _}function E(){const t=C();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const r=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);o.slice().forEach((e=>{e.call(t,r)}))}}}function T(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t(e)))}const $=[],I=[],L=[],j=[],O=Promise.resolve();let H=!1;function P(){H||(H=!0,O.then(B))}function z(){return P(),O}function M(t){L.push(t)}let A=!1;const N=new Set;function B(){if(!A){A=!0;do{for(let t=0;t<$.length;t+=1){const e=$[t];S(e),q(e.$$)}for(S(null),$.length=0;I.length;)I.pop()();for(let t=0;t<L.length;t+=1){const e=L[t];N.has(e)||(N.add(e),e())}L.length=0}while($.length);for(;j.length;)j.pop()();H=!1,A=!1,N.clear()}}function q(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(M)}}const F=new Set;let J;function R(){J={r:0,c:[],p:J}}function U(){J.r||r(J.c),J=J.p}function K(t,e){t&&t.i&&(F.delete(t),t.i(e))}function D(t,e,n,o){if(t&&t.o){if(F.has(t))return;F.add(t),J.c.push((()=>{F.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}function G(t,e){const n=e.token={};function o(t,o,r,i){if(e.token!==n)return;e.resolved=i;let s=e.ctx;void 0!==r&&(s=s.slice(),s[r]=i);const a=t&&(e.current=t)(s);let l=!1;e.block&&(e.blocks?e.blocks.forEach(((t,n)=>{n!==o&&t&&(R(),D(t,1,1,(()=>{e.blocks[n]===t&&(e.blocks[n]=null)})),U())})):e.block.d(1),a.c(),K(a,1),a.m(e.mount(),e.anchor),l=!0),e.block=a,e.blocks&&(e.blocks[o]=a),l&&B()}if((r=t)&&"object"==typeof r&&"function"==typeof r.then){const n=C();if(t.then((t=>{S(n),o(e.then,1,e.value,t),S(null)}),(t=>{if(S(n),o(e.catch,2,e.error,t),S(null),!e.hasCatch)throw t})),e.current!==e.pending)return o(e.pending,0),!0}else{if(e.current!==e.then)return o(e.then,1,e.value,t),!0;e.resolved=t}var r}function V(t,e){const n={},o={},r={$$scope:1};let i=t.length;for(;i--;){const s=t[i],a=e[i];if(a){for(const t in s)t in a||(o[t]=1);for(const t in a)r[t]||(n[t]=a[t],r[t]=1);t[i]=a}else for(const t in s)r[t]=1}for(const t in o)t in n||(n[t]=void 0);return n}function Y(t){return"object"==typeof t&&null!==t?t:{}}function Z(t){t&&t.c()}function X(t,e,o,s){const{fragment:a,on_mount:l,on_destroy:c,after_update:u}=t.$$;a&&a.m(e,o),s||M((()=>{const e=l.map(n).filter(i);c?c.push(...e):r(e),t.$$.on_mount=[]})),u.forEach(M)}function W(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Q(e,n,i,s,a,l,u=[-1]){const p=_;S(e);const d=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:a,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(p?p.$$.context:n.context||[]),callbacks:o(),dirty:u,skip_bound:!1};let m=!1;if(d.ctx=i?i(e,n.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return d.ctx&&a(d.ctx[t],d.ctx[t]=r)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](r),m&&function(t,e){-1===t.$$.dirty[0]&&($.push(t),P(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],d.update(),m=!0,r(d.before_update),d.fragment=!!s&&s(d.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);d.fragment&&d.fragment.l(t),t.forEach(c)}else d.fragment&&d.fragment.c();n.intro&&K(e.$$.fragment),X(e,n.target,n.anchor,n.customElement),B()}S(p)}class tt{$destroy(){W(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const et=[];function nt(t,e){return{subscribe:ot(t,e).subscribe}}function ot(e,n=t){let o;const r=[];function i(t){if(s(e,t)&&(e=t,o)){const t=!et.length;for(let t=0;t<r.length;t+=1){const n=r[t];n[1](),et.push(n,e)}if(t){for(let t=0;t<et.length;t+=2)et[t][0](et[t+1]);et.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(s,a=t){const l=[s,a];return r.push(l),1===r.length&&(o=n(i)||t),s(e),()=>{const t=r.indexOf(l);-1!==t&&r.splice(t,1),0===r.length&&(o(),o=null)}}}}function rt(e,n,o){const s=!Array.isArray(e),a=s?[e]:e,l=n.length<2;return nt(o,(e=>{let o=!1;const c=[];let u=0,p=t;const d=()=>{if(u)return;p();const o=n(s?c[0]:c,e);l?e(o):p=i(o)?o:t},m=a.map(((e,n)=>function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(e,(t=>{c[n]=t,u&=~(1<<n),o&&d()}),(()=>{u|=1<<n}))));return o=!0,d(),function(){r(m),p()}}))}function it(t){let n,o,r;const i=[t[2]];var s=t[0];function a(t){let n={};for(let t=0;t<i.length;t+=1)n=e(n,i[t]);return{props:n}}return s&&(n=new s(a()),n.$on("routeEvent",t[7])),{c(){n&&Z(n.$$.fragment),o=g()},m(t,e){n&&X(n,t,e),l(t,o,e),r=!0},p(t,e){const r=4&e?V(i,[Y(t[2])]):{};if(s!==(s=t[0])){if(n){R();const t=n;D(t.$$.fragment,1,0,(()=>{W(t,1)})),U()}s?(n=new s(a()),n.$on("routeEvent",t[7]),Z(n.$$.fragment),K(n.$$.fragment,1),X(n,o.parentNode,o)):n=null}else s&&n.$set(r)},i(t){r||(n&&K(n.$$.fragment,t),r=!0)},o(t){n&&D(n.$$.fragment,t),r=!1},d(t){t&&c(o),n&&W(n,t)}}}function st(t){let n,o,r;const i=[{params:t[1]},t[2]];var s=t[0];function a(t){let n={};for(let t=0;t<i.length;t+=1)n=e(n,i[t]);return{props:n}}return s&&(n=new s(a()),n.$on("routeEvent",t[6])),{c(){n&&Z(n.$$.fragment),o=g()},m(t,e){n&&X(n,t,e),l(t,o,e),r=!0},p(t,e){const r=6&e?V(i,[2&e&&{params:t[1]},4&e&&Y(t[2])]):{};if(s!==(s=t[0])){if(n){R();const t=n;D(t.$$.fragment,1,0,(()=>{W(t,1)})),U()}s?(n=new s(a()),n.$on("routeEvent",t[6]),Z(n.$$.fragment),K(n.$$.fragment,1),X(n,o.parentNode,o)):n=null}else s&&n.$set(r)},i(t){r||(n&&K(n.$$.fragment,t),r=!0)},o(t){n&&D(n.$$.fragment,t),r=!1},d(t){t&&c(o),n&&W(n,t)}}}function at(t){let e,n,o,r;const i=[st,it],s=[];function a(t,e){return t[1]?0:1}return e=a(t),n=s[e]=i[e](t),{c(){n.c(),o=g()},m(t,n){s[e].m(t,n),l(t,o,n),r=!0},p(t,[r]){let l=e;e=a(t),e===l?s[e].p(t,r):(R(),D(s[l],1,1,(()=>{s[l]=null})),U(),n=s[e],n?n.p(t,r):(n=s[e]=i[e](t),n.c()),K(n,1),n.m(o.parentNode,o))},i(t){r||(K(n),r=!0)},o(t){D(n),r=!1},d(t){s[e].d(t),t&&c(o)}}}function lt(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let o="";return n>-1&&(o=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:o}}const ct=nt(null,(function(t){t(lt());const e=()=>{t(lt())};return window.addEventListener("hashchange",e,!1),function(){window.removeEventListener("hashchange",e,!1)}}));async function ut(t){if(!t||t.length<1||"/"!=t.charAt(0)&&0!==t.indexOf("#/"))throw Error("Invalid parameter location");await z(),history.replaceState({scrollX:window.scrollX,scrollY:window.scrollY},void 0,void 0),window.location.hash=("#"==t.charAt(0)?"":"#")+t}function pt(t,e,n){let{routes:o={}}=e,{prefix:r=""}=e,{restoreScrollState:i=!1}=e;class s{constructor(t,e){if(!e||"function"!=typeof e&&("object"!=typeof e||!0!==e._sveltesparouter))throw Error("Invalid component object");if(!t||"string"==typeof t&&(t.length<1||"/"!=t.charAt(0)&&"*"!=t.charAt(0))||"object"==typeof t&&!(t instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:n,keys:o}=function(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,o,r,i,s=[],a="",l=t.split("/");for(l[0]||l.shift();r=l.shift();)"*"===(n=r[0])?(s.push("wild"),a+="/(.*)"):":"===n?(o=r.indexOf("?",1),i=r.indexOf(".",1),s.push(r.substring(1,~o?o:~i?i:r.length)),a+=~o&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~o?"?":"")+"\\"+r.substring(i))):a+="/"+r;return{keys:s,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}(t);this.path=t,"object"==typeof e&&!0===e._sveltesparouter?(this.component=e.component,this.conditions=e.conditions||[],this.userData=e.userData,this.props=e.props||{}):(this.component=()=>Promise.resolve(e),this.conditions=[],this.props={}),this._pattern=n,this._keys=o}match(t){if(r)if("string"==typeof r){if(!t.startsWith(r))return null;t=t.substr(r.length)||"/"}else if(r instanceof RegExp){const e=t.match(r);if(!e||!e[0])return null;t=t.substr(e[0].length)||"/"}const e=this._pattern.exec(t);if(null===e)return null;if(!1===this._keys)return e;const n={};let o=0;for(;o<this._keys.length;){try{n[this._keys[o]]=decodeURIComponent(e[o+1]||"")||null}catch(t){n[this._keys[o]]=null}o++}return n}async checkConditions(t){for(let e=0;e<this.conditions.length;e++)if(!await this.conditions[e](t))return!1;return!0}}const a=[];o instanceof Map?o.forEach(((t,e)=>{a.push(new s(e,t))})):Object.keys(o).forEach((t=>{a.push(new s(t,o[t]))}));let l=null,c=null,u={};const p=E();async function d(t,e){await z(),p(t,e)}let m=null;var g;i&&(window.addEventListener("popstate",(t=>{m=t.state&&t.state.scrollY?t.state:null})),g=()=>{m?window.scrollTo(m.scrollX,m.scrollY):window.scrollTo(0,0)},C().$$.after_update.push(g));let f=null,h=null;return ct.subscribe((async t=>{f=t;let e=0;for(;e<a.length;){const o=a[e].match(t.location);if(!o){e++;continue}const r={route:a[e].path,location:t.location,querystring:t.querystring,userData:a[e].userData};if(!await a[e].checkConditions(r))return n(0,l=null),h=null,void d("conditionsFailed",r);d("routeLoading",Object.assign({},r));const i=a[e].component;if(h!=i){i.loading?(n(0,l=i.loading),h=i,n(1,c=i.loadingParams),n(2,u={}),d("routeLoaded",Object.assign({},r,{component:l,name:l.name}))):(n(0,l=null),h=null);const e=await i();if(t!=f)return;n(0,l=e&&e.default||e),h=i}return o&&"object"==typeof o&&Object.keys(o).length?n(1,c=o):n(1,c=null),n(2,u=a[e].props),void d("routeLoaded",Object.assign({},r,{component:l,name:l.name}))}n(0,l=null),h=null})),t.$$set=t=>{"routes"in t&&n(3,o=t.routes),"prefix"in t&&n(4,r=t.prefix),"restoreScrollState"in t&&n(5,i=t.restoreScrollState)},t.$$.update=()=>{32&t.$$.dirty&&(history.scrollRestoration=i?"manual":"auto")},[l,c,u,o,r,i,function(e){T(t,e)},function(e){T(t,e)}]}rt(ct,(t=>t.location)),rt(ct,(t=>t.querystring));class dt extends tt{constructor(t){super(),Q(this,t,pt,at,s,{routes:3,prefix:4,restoreScrollState:5})}}function mt(t){let e,n,o,i,s,u,d,g,y,x,b,_,S,C,E,T,$,I,L;return{c(){e=p("div"),n=p("h2"),n.textContent="Sessioonis osalemine",o=m(),i=p("form"),s=p("p"),s.textContent="Sisesta nimi",u=m(),d=p("input"),g=p("span"),y=m(),x=p("p"),x.textContent="Sisesta email",b=m(),_=p("input"),S=p("span"),C=m(),E=p("input"),T=m(),$=p("button"),$.textContent="Pealehele",v(n,"class","title"),k(s,"padding-left","10px"),k(s,"padding-right","10px"),k(s,"text-align","left"),v(d,"type","text"),v(d,"placeholder","Nimi"),v(g,"class","errormsg"),v(g,"id","error-part_name"),k(x,"padding-left","10px"),k(x,"padding-right","10px"),k(x,"text-align","left"),v(_,"type","text"),v(_,"placeholder","Email"),v(S,"class","errormsg"),v(S,"id","error-part_email"),v(E,"type","submit"),E.value="SISENE",v(i,"class","container")},m(r,c){l(r,e,c),a(e,n),a(e,o),a(e,i),a(i,s),a(i,u),a(i,d),w(d,t[2].part_name),a(i,g),a(i,y),a(i,x),a(i,b),a(i,_),w(_,t[2].part_email),a(i,S),a(i,C),a(i,E),a(i,T),a(i,$),I||(L=[f(d,"input",t[11]),f(_,"input",t[12]),f(E,"click",h(t[5])),f($,"click",h(t[13]))],I=!0)},p(t,e){4&e&&d.value!==t[2].part_name&&w(d,t[2].part_name),4&e&&_.value!==t[2].part_email&&w(_,t[2].part_email)},d(t){t&&c(e),I=!1,r(L)}}}function gt(t){let e,n,o,i,s,u,d,g,y,x,b,_,S,C,E,T,$,I,L,j,O,H,P,z,M,A,N,B,q;return{c(){e=p("div"),n=p("h2"),n.textContent="Õpilane:",o=m(),i=p("p"),i.textContent="Sisesta ruumivõti:",s=m(),u=p("form"),d=p("input"),g=p("span"),y=m(),x=p("button"),x.textContent="SISESTA",b=m(),_=p("div"),S=p("h2"),S.textContent="Õpetaja:",C=m(),E=p("p"),E.textContent="Logi sisse:",T=m(),$=p("form"),I=p("input"),L=p("span"),j=m(),O=p("input"),H=p("span"),P=p("span"),z=m(),M=p("input"),A=m(),N=p("input"),v(n,"class","title"),k(i,"padding-left","10px"),k(i,"padding-right","10px"),k(i,"text-align","left"),v(d,"type","text"),v(d,"placeholder","Võti"),v(g,"class","errormsg"),v(g,"id","error-room"),v(u,"class","container"),v(S,"class","title"),k(E,"padding-left","10px"),k(E,"padding-right","10px"),k(E,"text-align","left"),v(I,"type","text"),v(I,"placeholder","Kasutajatunnus"),v(L,"class","errormsg"),v(L,"id","error-user"),v(O,"type","password"),v(O,"placeholder","Parool"),v(H,"class","errormsg"),v(H,"id","error-password"),v(P,"class","errormsg"),v(P,"id","error-login"),v(M,"type","submit"),M.value="SISENE",v($,"class","container"),v(N,"type","button"),N.value="REGISTREERU"},m(r,c){l(r,e,c),a(e,n),a(e,o),a(e,i),a(e,s),a(e,u),a(u,d),w(d,t[3].roomkey),a(u,g),a(u,y),a(u,x),l(r,b,c),l(r,_,c),a(_,S),a(_,C),a(_,E),a(_,T),a(_,$),a($,I),w(I,t[1].name),a($,L),a($,j),a($,O),w(O,t[1].password),a($,H),a($,P),a($,z),a($,M),l(r,A,c),l(r,N,c),B||(q=[f(d,"input",t[7]),f(x,"click",h(t[6])),f(I,"input",t[8]),f(O,"input",t[9]),f(M,"click",h(t[4])),f(N,"click",h(t[10]))],B=!0)},p(t,e){8&e&&d.value!==t[3].roomkey&&w(d,t[3].roomkey),2&e&&I.value!==t[1].name&&w(I,t[1].name),2&e&&O.value!==t[1].password&&w(O,t[1].password)},d(t){t&&c(e),t&&c(b),t&&c(_),t&&c(A),t&&c(N),B=!1,r(q)}}}function ft(e){let n,o,r,i,s,u,d,g;function f(t,e){return t[0]?mt:gt}let h=f(e),y=h(e);return{c(){n=p("meta"),o=m(),r=p("table"),i=p("div"),s=p("div"),u=p("img"),g=m(),y.c(),v(n,"name","viewport"),v(n,"content","width=device-width, initial-scale=1.0"),u.src!==(d="../pictures\\logo.png")&&v(u,"src","../pictures\\logo.png"),v(u,"alt","Harlog logo"),v(u,"onclick","window.location.href='http://localhost:5000'"),v(s,"class","padding"),v(i,"class","container"),v(r,"class","wrapper")},m(t,e){l(t,n,e),l(t,o,e),l(t,r,e),a(r,i),a(i,s),a(s,u),a(s,g),y.m(s,null)},p(t,[e]){h===(h=f(t))&&y?y.p(t,e):(y.d(1),y=h(t),y&&(y.c(),y.m(s,null)))},i:t,o:t,d(t){t&&c(n),t&&c(o),t&&c(r),y.d()}}}function ht(t,e,n){let o=!1,r={name:"",password:""},i={},s={roomkey:""};return[o,r,i,s,async function(){let t=!1;if(""===r.name?(document.getElementById("error-user").innerHTML="Sisesta kasutajatunnus!",t=!0):document.getElementById("error-user").innerHTML="",""===r.password?(document.getElementById("error-password").innerHTML="Sisesta parool!",t=!0):document.getElementById("error-password").innerHTML="",!1===t){const t=await fetch("http://localhost:3000/login",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(r)});if(t.ok){let e=await t.json();sessionStorage.setItem("token",`Bearer ${e.token}`),ut("/userpanel")}403===t.status&&(document.getElementById("error-login").innerHTML="Vigane kasutajatunnus või parool!")}t=!1},async function(){let t=!1;if(void 0===i.part_name?(document.getElementById("error-part_name").innerHTML="Sisesta nimi!",t=!0):document.getElementById("error-part_name").innerHTML="",void 0===i.part_email)document.getElementById("error-part_email").innerHTML="Sisesta email!",t=!0;else{!1===/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(i.part_email)?(t=!0,document.getElementById("error-part_email").innerHTML="Pole korrektne meiliaadress!"):document.getElementById("error-part_email").innerHTML=""}if(!1===t){const t=await fetch("http://localhost:3000/enterquiz",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(i)});if(t.ok){let e=await t.json();sessionStorage.setItem("token",`Bearer ${e.token}`),ut("/questionpage")}}t=!1},async function(){let t=!1;if(""===s.roomkey||"undefined"===s.roomkey?(document.getElementById("error-room").innerHTML="Sisesta ruumi võti!",t=!0):document.getElementById("error-room").innerHTML="",!1===t){const t=await fetch("http://localhost:3000/getroomkey",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(s)});t.ok&&(n(0,o=!0),n(2,i.activity_id=(await t.json()).activity_id,i)),404===t.status&&(document.getElementById("error-room").innerHTML="Vale ruumi võti!",n(0,o=!1))}t=!1},function(){s.roomkey=this.value,n(3,s)},function(){r.name=this.value,n(1,r)},function(){r.password=this.value,n(1,r)},()=>{ut("/registerpage")},function(){i.part_name=this.value,n(2,i)},function(){i.part_email=this.value,n(2,i)},()=>{n(0,o=!1)}]}class vt extends tt{constructor(t){super(),Q(this,t,ht,ft,s,{})}}function yt(e){let n,o,i,s,u,d,g,y,x,w,k,b,_,S,C;return{c(){n=p("div"),o=p("img"),s=m(),u=p("h2"),u.textContent="Sessiooni haldamine",d=m(),g=p("button"),g.textContent="LOO UUS SESSIOON",y=m(),x=p("button"),x.textContent="TULEMUSED",w=m(),k=p("button"),k.textContent="VÕRDLUS",b=m(),_=p("button"),_.textContent="Logi välja",o.src!==(i="../pictures\\logo.png")&&v(o,"src","../pictures\\logo.png"),v(o,"alt","Harlog logo"),v(u,"class","title"),v(n,"class","container")},m(t,r){l(t,n,r),a(n,o),a(n,s),a(n,u),a(n,d),a(n,g),a(n,y),a(n,x),a(n,w),a(n,k),a(n,b),a(n,_),S||(C=[f(g,"click",h(e[1])),f(x,"click",h(e[2])),f(k,"click",h(e[3])),f(_,"click",h(e[0]))],S=!0)},p:t,i:t,o:t,d(t){t&&c(n),S=!1,r(C)}}}function xt(t){null==sessionStorage.getItem("token")&&ut("/");return[function(){sessionStorage.removeItem("token"),ut("/")},()=>{ut("/startsession")},()=>{ut("/resultssession")},()=>{ut("/comparisongroup")}]}class wt extends tt{constructor(t){super(),Q(this,t,xt,yt,s,{})}}function kt(t,e,n){const o=t.slice();return o[1]=e[n],o}function bt(e){return{c:t,m:t,p:t,d:t}}function _t(t){let e,n=t[10],o=[];for(let e=0;e<n.length;e+=1)o[e]=St(kt(t,n,e));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=g()},m(t,n){for(let e=0;e<o.length;e+=1)o[e].m(t,n);l(t,e,n)},p(t,r){if(16&r){let i;for(n=t[10],i=0;i<n.length;i+=1){const s=kt(t,n,i);o[i]?o[i].p(s,r):(o[i]=St(s),o[i].c(),o[i].m(e.parentNode,e))}for(;i<o.length;i+=1)o[i].d(1);o.length=n.length}},d(t){u(o,t),t&&c(e)}}}function St(t){let e,n,o,r,i=t[1].group_name+"";function s(){return t[7](t[1])}return{c(){e=p("button"),n=d(i)},m(t,i){l(t,e,i),a(e,n),o||(r=f(e,"click",h(s)),o=!0)},p(e,n){t=e},d(t){t&&c(e),o=!1,r()}}}function Ct(e){let n;return{c(){n=p("p"),n.textContent="Loading groups..."},m(t,e){l(t,n,e)},p:t,d(t){t&&c(n)}}}function Et(e){let n,o,i,s,u,d,g,y,x,b,_,S,C,E,T,$,I,L,j,O,H,P,z,M,A,N,B,q,F,J,R,U,K,D,V,Y,Z,X={ctx:e,current:null,token:null,hasCatch:!1,pending:Ct,then:_t,catch:bt,value:10};return G(async function(){const t=await fetch("http://localhost:3000/listgroup",{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:sessionStorage.getItem("token")},redirect:"follow",referrerPolicy:"no-referrer"});if(t.ok)return await t.json()}(),X),{c(){n=p("div"),o=p("img"),s=m(),u=p("form"),d=p("h2"),d.textContent="Alusta sessiooni:",g=m(),y=p("p"),y.textContent="Tunni tegevus:",x=m(),b=p("input"),_=p("span"),S=m(),C=p("p"),C.textContent="Ruumi võti:",E=m(),T=p("input"),$=p("span"),I=m(),L=p("form"),j=p("p"),j.textContent="Vali grupp, millega tegevust alustada:",O=m(),H=p("div"),P=p("ul"),X.block.c(),z=m(),M=p("p"),M.textContent="Uue grupi loomine:",A=m(),N=p("input"),B=p("span"),q=m(),F=p("button"),F.textContent="Loo grupp",J=m(),R=p("hr"),U=m(),K=p("button"),K.textContent="Tagasi",D=m(),V=p("button"),V.textContent="Logi välja",o.src!==(i="../pictures\\logo.png")&&v(o,"src","../pictures\\logo.png"),v(o,"alt","Harlog logo"),v(d,"class","title"),k(y,"padding-left","10px"),k(y,"padding-right","10px"),k(y,"text-align","left"),v(b,"type","text"),v(b,"placeholder","Tegevuse nimi"),v(_,"class","errormsg"),v(_,"id","error-activity"),k(C,"padding-left","10px"),k(C,"padding-right","10px"),k(C,"text-align","left"),v(T,"type","text"),v(T,"placeholder","Võti"),v($,"class","errormsg"),v($,"id","error-key"),v(u,"class","container"),k(j,"padding-left","10px"),k(j,"padding-right","10px"),k(j,"text-align","left"),v(P,"class","groupList svelte-1mmv1gy"),v(H,"class","table"),k(M,"padding-left","10px"),k(M,"padding-right","10px"),k(M,"text-align","left"),v(N,"type","text"),v(B,"class","errormsg"),v(B,"id","error-creategroup"),v(R,"class","svelte-1mmv1gy"),v(L,"class","container"),v(n,"class","container")},m(t,r){l(t,n,r),a(n,o),a(n,s),a(n,u),a(u,d),a(u,g),a(u,y),a(u,x),a(u,b),w(b,e[0].activity_name),a(u,_),a(u,S),a(u,C),a(u,E),a(u,T),w(T,e[0].roomkey),a(u,$),a(n,I),a(n,L),a(L,j),a(L,O),a(L,H),a(H,P),X.block.m(P,X.anchor=null),X.mount=()=>P,X.anchor=null,a(L,z),a(L,M),a(L,A),a(L,N),w(N,e[1].group_name),a(L,B),a(L,q),a(L,F),a(L,J),a(L,R),a(L,U),a(L,K),a(L,D),a(L,V),Y||(Z=[f(b,"input",e[5]),f(T,"input",e[6]),f(N,"input",e[8]),f(F,"click",h(e[3])),f(K,"click",h(e[9])),f(V,"click",h(e[2]))],Y=!0)},p(t,[n]){e=t,1&n&&b.value!==e[0].activity_name&&w(b,e[0].activity_name),1&n&&T.value!==e[0].roomkey&&w(T,e[0].roomkey);{const t=e.slice();t[10]=X.resolved,X.block.p(t,n)}2&n&&N.value!==e[1].group_name&&w(N,e[1].group_name)},i:t,o:t,d(t){t&&c(n),X.block.d(),X.token=null,X=null,Y=!1,r(Z)}}}function Tt(t,e,n){null==sessionStorage.getItem("token")&&ut("/");let o={group_name:void 0},r={incognito:!1};async function i(t){let e=!1;if(void 0===r.activity_name||""===r.activity_name?(document.getElementById("error-activity").innerHTML="Sisesta tegevus!",e=!0):document.getElementById("error-activity").innerHTML="",void 0!==r.roomkey&&""!==r.roomkey||(document.getElementById("error-key").innerHTML="Sisesta toa võti!",e=!0),!1===e){n(0,r.group_id=t,r);const e=await fetch("http://localhost:3000/createactivity",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:sessionStorage.getItem("token")},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(r)});403===e.status&&(document.getElementById("error-key").innerHTML="Toavõti kasutusel"),e.ok&&(sessionStorage.setItem("roomkey",r.roomkey),ut("/activesession"))}e=!1}return[r,o,function(){sessionStorage.removeItem("token"),ut("/")},async function(){let t=!1;if(void 0===o.group_name?(document.getElementById("error-creategroup").innerHTML="Sisesta grupp!",t=!0):document.getElementById("error-creategroup").innerHTML="",!1===t){const t=await fetch("http://localhost:3000/creategroup",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:sessionStorage.getItem("token")},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(o)});if(t.ok){let e=await t.json(),n=document.getElementsByClassName("groupList")[0],o=document.createElement("li"),r=document.createElement("button");r.value=e.group_id,r.textContent=e.group_name,r.onclick=()=>{i(e.group_id)},o.appendChild(r),n.appendChild(o)}}t=!1},i,function(){r.activity_name=this.value,n(0,r)},function(){r.roomkey=this.value,n(0,r)},t=>{i(t.group_id)},function(){o.group_name=this.value,n(1,o)},()=>{ut("/userpanel")}]}class $t extends tt{constructor(t){super(),Q(this,t,Tt,Et,s,{})}}function It(t,e,n){const o=t.slice();return o[5]=e[n],o}function Lt(e){return{c:t,m:t,p:t,d:t}}function jt(t){let e,n=t[4],o=[];for(let e=0;e<n.length;e+=1)o[e]=Ot(It(t,n,e));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=g()},m(t,n){for(let e=0;e<o.length;e+=1)o[e].m(t,n);l(t,e,n)},p(t,r){if(0&r){let i;for(n=t[4],i=0;i<n.length;i+=1){const s=It(t,n,i);o[i]?o[i].p(s,r):(o[i]=Ot(s),o[i].c(),o[i].m(e.parentNode,e))}for(;i<o.length;i+=1)o[i].d(1);o.length=n.length}},d(t){u(o,t),t&&c(e)}}}function Ot(t){let e,n,o,r,i=t[5].group_name+"";function s(){return t[1](t[5])}return{c(){e=p("button"),n=d(i)},m(t,i){l(t,e,i),a(e,n),o||(r=f(e,"click",s),o=!0)},p(e,n){t=e},d(t){t&&c(e),o=!1,r()}}}function Ht(e){let n;return{c(){n=p("p"),n.textContent="Loading groups..."},m(t,e){l(t,n,e)},p:t,d(t){t&&c(n)}}}function Pt(e){let n,o,i,s,u,d,g,y,x,w,k,b,_,S,C,E,T={ctx:e,current:null,token:null,hasCatch:!1,pending:Ht,then:jt,catch:Lt,value:4};return G(async function(){const t=await fetch("http://localhost:3000/listgroup",{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:sessionStorage.getItem("token")},redirect:"follow",referrerPolicy:"no-referrer"});if(t.ok)return await t.json()}(),T),{c(){n=p("div"),o=p("img"),s=m(),u=p("form"),u.innerHTML='<h2 class="title">Tulemuste esitamine:</h2>         \n    \n    <p style="padding-left: 10px; padding-right: 10px; text-align: center;">Vali grupp mille tulemusi soovid näha:</p>',d=m(),g=p("form"),y=p("ul"),T.block.c(),x=m(),w=p("hr"),k=m(),b=p("button"),b.textContent="Tagasi",_=m(),S=p("button"),S.textContent="Logi välja",o.src!==(i="../pictures\\logo.png")&&v(o,"src","../pictures\\logo.png"),v(o,"alt","Harlog logo"),v(u,"class","container"),v(y,"class","groupList svelte-glrzh5"),v(w,"class","svelte-glrzh5"),v(n,"class","container")},m(t,r){l(t,n,r),a(n,o),a(n,s),a(n,u),a(n,d),a(n,g),a(g,y),T.block.m(y,T.anchor=null),T.mount=()=>y,T.anchor=null,a(n,x),a(n,w),a(n,k),a(n,b),a(n,_),a(n,S),C||(E=[f(b,"click",h(e[2])),f(S,"click",h(e[0]))],C=!0)},p(t,[n]){{const o=(e=t).slice();o[4]=T.resolved,T.block.p(o,n)}},i:t,o:t,d(t){t&&c(n),T.block.d(),T.token=null,T=null,C=!1,r(E)}}}function zt(t){null==sessionStorage.getItem("token")&&ut("/"),sessionStorage.getItem("group_id");return[function(){sessionStorage.removeItem("token"),ut("/")},t=>{sessionStorage.setItem("group_id",t.group_id),sessionStorage.setItem("group_name",t.group_name),ut("/resultsgroup")},()=>{ut("/userpanel")}]}class Mt extends tt{constructor(t){super(),Q(this,t,zt,Pt,s,{})}}function At(e){let n,o,i,s,u,d,g,y,x,b,_,S,C,E,T,$,I,L,j,O,H,P,z,M,A,N,B,q,F,J,R,U,K,D,G,V,Y;return{c(){n=p("meta"),o=m(),i=p("div"),s=p("img"),d=m(),g=p("h2"),g.textContent="Registreeru",y=m(),x=p("form"),b=p("p"),b.textContent="Sisesta kasutajatunnus:",_=m(),S=p("input"),C=p("span"),E=m(),T=p("p"),T.textContent="Sisesta email:",$=m(),I=p("input"),L=p("span"),j=p("span"),O=m(),H=p("p"),H.textContent="Sisesta parool:",P=m(),z=p("input"),M=p("span"),A=m(),N=p("span"),B=m(),q=p("p"),q.textContent="Sisesta uuesti parool:",F=m(),J=p("input"),R=p("span"),U=m(),K=p("input"),D=m(),G=p("button"),G.textContent="Pealehele",v(n,"name","viewport"),v(n,"content","width=device-width, initial-scale=1.0"),s.src!==(u="../pictures\\logo.png")&&v(s,"src","../pictures\\logo.png"),v(s,"alt","Harlog logo"),v(g,"class","title"),k(b,"padding-left","10px"),k(b,"padding-right","10px"),k(b,"text-align","left"),v(S,"type","text"),v(S,"placeholder","Kasutajatunnus"),v(C,"class","errormsg"),v(C,"id","error-username"),k(T,"padding-left","10px"),k(T,"padding-right","10px"),k(T,"text-align","left"),v(I,"type","text"),v(I,"placeholder","Email"),v(L,"class","errormsg"),v(L,"id","error-email"),v(j,"class","errormsg"),v(j,"id","error-email2"),k(H,"padding-left","10px"),k(H,"padding-right","10px"),k(H,"text-align","left"),v(z,"type","password"),v(z,"placeholder","Parool"),v(M,"class","errormsg"),v(M,"id","error-password"),v(N,"class","errormsg"),v(N,"id","error-password2"),k(q,"padding-left","10px"),k(q,"padding-right","10px"),k(q,"text-align","left"),v(J,"type","password"),v(J,"placeholder","Parool"),v(R,"class","errormsg"),v(R,"id","error-passwordval"),v(K,"type","submit"),K.value="REGISTREERU",v(x,"class","container"),v(i,"class","container")},m(t,r){l(t,n,r),l(t,o,r),l(t,i,r),a(i,s),a(i,d),a(i,g),a(i,y),a(i,x),a(x,b),a(x,_),a(x,S),w(S,e[0].name),a(x,C),a(x,E),a(x,T),a(x,$),a(x,I),w(I,e[0].email),a(x,L),a(x,j),a(x,O),a(x,H),a(x,P),a(x,z),w(z,e[0].password),a(x,M),a(x,A),a(x,N),a(x,B),a(x,q),a(x,F),a(x,J),w(J,e[1]),a(x,R),a(x,U),a(x,K),a(x,D),a(x,G),V||(Y=[f(S,"input",e[3]),f(I,"input",e[4]),f(z,"input",e[5]),f(J,"input",e[6]),f(K,"click",h(e[2])),f(G,"click",h(e[7]))],V=!0)},p(t,[e]){1&e&&S.value!==t[0].name&&w(S,t[0].name),1&e&&I.value!==t[0].email&&w(I,t[0].email),1&e&&z.value!==t[0].password&&w(z,t[0].password),2&e&&J.value!==t[1]&&w(J,t[1])},i:t,o:t,d(t){t&&c(n),t&&c(o),t&&c(i),V=!1,r(Y)}}}function Nt(t,e,n){let o,r={};return[r,o,async function(){let t=!1;if(void 0===r.name||r.name.length<5||r.name.length>15?(t=!0,document.getElementById("error-username").innerHTML=" Palun sisestage kasutajanimi(5-15 tähemärki)!"):document.getElementById("error-username").innerHTML="",void 0===r.password||""===r.password?(t=!0,document.getElementById("error-password").innerHTML=" Palun sisestage parool!"):document.getElementById("error-password").innerHTML="",void 0!==r.password&&r.password.length<7?(t=!0,document.getElementById("error-password2").innerHTML=" Parool peab olema vähemalt 7 tähemärki pikk!"):document.getElementById("error-password2").innerHTML="",r.password!==o?(t=!0,document.getElementById("error-passwordval").innerHTML=" Sisestatud paroolid ei klapi!"):document.getElementById("error-passwordval").innerHTML="",void 0===r.email||""===r.email)t=!0,document.getElementById("error-email").innerHTML=" Palun sisestage meiliaadress!";else{!1===/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(r.email)?(t=!0,document.getElementById("error-email").innerHTML=" Pole korrektne meiliaadress!"):document.getElementById("error-email").innerHTML=""}if(!1===t){const t=await fetch("http://localhost:3000/register",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(r)});t.ok&&ut("/"),400===t.status&&(document.getElementById("error-passwordval").innerHTML="Kasutajatunnus või e-mail juba kasutusel!")}t=!1},function(){r.name=this.value,n(0,r)},function(){r.email=this.value,n(0,r)},function(){r.password=this.value,n(0,r)},function(){o=this.value,n(1,o)},()=>{ut("/")}]}class Bt extends tt{constructor(t){super(),Q(this,t,Nt,At,s,{})}}function qt(e){let n,o,i,s,u,d,g,y,x,w,k,b,_,S,C;return{c(){n=p("div"),o=p("img"),s=m(),u=p("h2"),u.textContent="Aktiivne küsitlus",d=m(),g=p("p"),g.textContent="Toa kood:",y=m(),x=p("h2"),x.textContent=`${sessionStorage.getItem("roomkey")}`,w=m(),k=p("button"),k.textContent="LÕPETA SESSIOON",b=m(),_=p("button"),_.textContent="KOOSTA LISA SESSIOON",o.src!==(i="../pictures\\logo.png")&&v(o,"src","../pictures\\logo.png"),v(o,"alt","Harlog logo"),v(u,"class","title"),v(x,"class","boxtext svelte-62y856"),v(n,"class","container")},m(t,r){l(t,n,r),a(n,o),a(n,s),a(n,u),a(n,d),a(n,g),a(n,y),a(n,x),a(n,w),a(n,k),a(n,b),a(n,_),S||(C=[f(k,"click",h(e[0])),f(_,"click",e[1])],S=!0)},p:t,i:t,o:t,d(t){t&&c(n),S=!1,r(C)}}}function Ft(t){let e={roomkey:sessionStorage.getItem("roomkey")};null==sessionStorage.getItem("token")&&ut("/");return[async function(){(await fetch("http://localhost:3000/deleteroomkey",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:sessionStorage.getItem("token")},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(e)})).ok&&(sessionStorage.removeItem("roomkey"),ut("/userpanel"))},()=>{ut("/startsession")}]}class Jt extends tt{constructor(t){super(),Q(this,t,Ft,qt,s,{})}}function Rt(e){let n,o,i,s,u,d,g,y,x,b,_,S,C,E,T,$,I,L,j,O,H,P,z,M,A,N,B,q,F,J,R,U,K,D,G,V,Y,Z,X,W,Q,tt,et,nt,ot,rt,it,st,at,lt,ct;return{c(){n=p("meta"),o=m(),i=p("div"),s=p("img"),d=m(),g=p("p"),g.textContent="Selles tegevuses pühendusin ainult õppimisele",y=m(),x=p("div"),b=p("input"),_=m(),S=p("div"),S.innerHTML='<p class="leftmarking svelte-eq2eb1">Ei nõustu</p> \n        <p class="rightmarking svelte-eq2eb1">Nõustun</p>',C=m(),E=p("p"),E.textContent="Selles tegevuses teesklesin osalemist",T=m(),$=p("div"),I=p("input"),L=m(),j=p("div"),j.innerHTML='<p class="leftmarking svelte-eq2eb1">Ei nõustu</p> \n        <p class="rightmarking svelte-eq2eb1">Nõustun</p>',O=m(),H=p("p"),H.textContent="Selles tegevuses meeldis mulle õppida",P=m(),z=p("div"),M=p("input"),A=m(),N=p("div"),N.innerHTML='<p class="leftmarking svelte-eq2eb1">Ei nõustu</p> \n        <p class="rightmarking svelte-eq2eb1">Nõustun</p>',B=m(),q=p("p"),q.textContent="Selle tegevuse ajal kartsin pisut või olin segaduses",F=m(),J=p("div"),R=p("input"),U=m(),K=p("div"),K.innerHTML='<p class="leftmarking svelte-eq2eb1">Ei nõustu</p> \n        <p class="rightmarking svelte-eq2eb1">Nõustun</p>',D=m(),G=p("p"),G.textContent="Selles tegevuses sain õpitust aru",V=m(),Y=p("div"),Z=p("input"),X=m(),W=p("div"),W.innerHTML='<p class="leftmarking svelte-eq2eb1">Ei nõustu</p> \n        <p class="rightmarking svelte-eq2eb1">Nõustun</p>',Q=m(),tt=p("p"),tt.textContent="Sain midagi uut teada või harjutada",et=m(),nt=p("div"),ot=p("input"),rt=m(),it=p("div"),it.innerHTML='<p class="leftmarking svelte-eq2eb1">Ei nõustu</p> \n        <p class="rightmarking svelte-eq2eb1">Nõustun</p>',st=m(),at=p("button"),at.textContent="LÕPETA",v(n,"name","viewport"),v(n,"content","width=device-width, initial-scale=1.0"),s.src!==(u="../pictures\\logo.png")&&v(s,"src","../pictures\\logo.png"),v(s,"alt","Harlog logo"),k(g,"padding-left","10px"),k(g,"padding-right","10px"),k(g,"text-align","left"),v(b,"type","range"),v(b,"min","1"),v(b,"max","6"),v(x,"class","slidecontainer"),v(S,"class","slidecontainer"),k(E,"padding-left","10px"),k(E,"padding-right","10px"),k(E,"text-align","left"),v(I,"type","range"),v(I,"min","1"),v(I,"max","6"),v($,"class","slidecontainer"),v(j,"class","slidecontainer"),k(H,"padding-left","10px"),k(H,"padding-right","10px"),k(H,"text-align","left"),v(M,"type","range"),v(M,"min","1"),v(M,"max","6"),v(z,"class","slidecontainer"),v(N,"class","slidecontainer"),k(q,"padding-left","10px"),k(q,"padding-right","10px"),k(q,"text-align","left"),v(R,"type","range"),v(R,"min","1"),v(R,"max","6"),v(J,"class","slidecontainer"),v(K,"class","slidecontainer"),k(G,"padding-left","10px"),k(G,"padding-right","10px"),k(G,"text-align","left"),v(Z,"type","range"),v(Z,"min","1"),v(Z,"max","6"),v(Y,"class","slidecontainer"),v(W,"class","slidecontainer"),k(tt,"padding-left","10px"),k(tt,"padding-right","10px"),k(tt,"text-align","left"),v(ot,"type","range"),v(ot,"min","1"),v(ot,"max","6"),v(nt,"class","slidecontainer"),v(it,"class","slidecontainer"),k(at,"margin-top","10px"),v(i,"class","questioncontainer")},m(t,r){l(t,n,r),l(t,o,r),l(t,i,r),a(i,s),a(i,d),a(i,g),a(i,y),a(i,x),a(x,b),w(b,e[0].answer1),a(i,_),a(i,S),a(i,C),a(i,E),a(i,T),a(i,$),a($,I),w(I,e[0].answer2),a(i,L),a(i,j),a(i,O),a(i,H),a(i,P),a(i,z),a(z,M),w(M,e[0].answer3),a(i,A),a(i,N),a(i,B),a(i,q),a(i,F),a(i,J),a(J,R),w(R,e[0].answer4),a(i,U),a(i,K),a(i,D),a(i,G),a(i,V),a(i,Y),a(Y,Z),w(Z,e[0].answer5),a(i,X),a(i,W),a(i,Q),a(i,tt),a(i,et),a(i,nt),a(nt,ot),w(ot,e[0].answer6),a(i,rt),a(i,it),a(i,st),a(i,at),lt||(ct=[f(b,"change",e[2]),f(b,"input",e[2]),f(I,"change",e[3]),f(I,"input",e[3]),f(M,"change",e[4]),f(M,"input",e[4]),f(R,"change",e[5]),f(R,"input",e[5]),f(Z,"change",e[6]),f(Z,"input",e[6]),f(ot,"change",e[7]),f(ot,"input",e[7]),f(at,"click",h(e[1]))],lt=!0)},p(t,[e]){1&e&&w(b,t[0].answer1),1&e&&w(I,t[0].answer2),1&e&&w(M,t[0].answer3),1&e&&w(R,t[0].answer4),1&e&&w(Z,t[0].answer5),1&e&&w(ot,t[0].answer6)},i:t,o:t,d(t){t&&c(n),t&&c(o),t&&c(i),lt=!1,r(ct)}}}function Ut(t,e,n){let o={answer1:1,answer2:1,answer3:1,answer4:1,answer5:1,answer6:1};return[o,async function(){(await fetch("http://localhost:3000/sendanswer",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:sessionStorage.getItem("token")},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(o)})).ok&&ut("/")},function(){o.answer1=y(this.value),n(0,o)},function(){o.answer2=y(this.value),n(0,o)},function(){o.answer3=y(this.value),n(0,o)},function(){o.answer4=y(this.value),n(0,o)},function(){o.answer5=y(this.value),n(0,o)},function(){o.answer6=y(this.value),n(0,o)}]}class Kt extends tt{constructor(t){super(),Q(this,t,Ut,Rt,s,{})}}function Dt(t,e,n){const o=t.slice();return o[8]=e[n],o}function Gt(t){let e,n,o,r,i,s,u,g,h,y,w,b,_,S,C,E,T,$,I,L,j,O,H,P,z,M,A,N,B,q,F,J,R,U,K,D,G,V=t[0][t[8]].name+"",Y=t[0][t[8]].emotion1.toFixed(2)+"",Z=t[0][t[8]].emotion2.toFixed(2)+"",X=t[0][t[8]].emotion3.toFixed(2)+"";function W(){return t[2](t[8])}return{c(){e=p("hr"),n=m(),o=p("p"),r=d("Tegevus: "),i=d(V),s=m(),u=p("div"),g=p("table"),h=p("caption"),h.textContent="Bar Example #6",y=m(),w=p("thead"),w.innerHTML='<tr><th scope="col">Year</th> \n                    <th scope="col">Progress</th></tr>',b=m(),_=p("tbody"),S=p("tr"),C=p("th"),C.textContent="Käitumuslik",E=m(),T=p("td"),$=p("span"),I=d(Y),L=m(),j=p("tr"),O=p("th"),O.textContent="Emotsionaalne",H=m(),P=p("td"),z=p("span"),M=d(Z),A=m(),N=p("tr"),B=p("th"),B.textContent="Kognitiivne",q=m(),F=p("td"),J=p("span"),R=d(X),U=m(),K=p("button"),K.textContent="OSALEJATE TULEMUSED",v(e,"class","svelte-puipbt"),k(o,"margin-bottom","130px"),k(o,"text-align","left"),k(o,"padding-left","10px"),k(o,"color","#60495A"),k(o,"font-family","'Electrolize', sans-serif"),k(o,"font-weight","bold"),v(C,"scope","row"),k(C,"color","#084C61"),k(C,"font-size","75%"),v($,"class","data"),k(T,"--size",t[0][t[8]].emotion1),v(T,"class","svelte-puipbt"),v(O,"scope","row"),k(O,"color","#084C61"),k(O,"font-size","75%"),v(z,"class","data"),k(P,"--size",t[0][t[8]].emotion2),v(P,"class","svelte-puipbt"),v(B,"scope","row"),k(B,"color","#084C61"),k(B,"font-size","75%"),v(J,"class","data"),k(F,"--size",t[0][t[8]].emotion3),v(F,"class","svelte-puipbt"),v(g,"id","my-chart"),v(g,"class","charts-css column show-labels data-spacing-20 show-primary-axis  svelte-puipbt"),v(u,"class","resultcontainer svelte-puipbt")},m(t,c){l(t,e,c),l(t,n,c),l(t,o,c),a(o,r),a(o,i),l(t,s,c),l(t,u,c),a(u,g),a(g,h),a(g,y),a(g,w),a(g,b),a(g,_),a(_,S),a(S,C),a(S,E),a(S,T),a(T,$),a($,I),a(_,L),a(_,j),a(j,O),a(j,H),a(j,P),a(P,z),a(z,M),a(_,A),a(_,N),a(N,B),a(N,q),a(N,F),a(F,J),a(J,R),l(t,U,c),l(t,K,c),D||(G=f(K,"click",W),D=!0)},p(e,n){t=e,1&n&&V!==(V=t[0][t[8]].name+"")&&x(i,V),1&n&&Y!==(Y=t[0][t[8]].emotion1.toFixed(2)+"")&&x(I,Y),1&n&&k(T,"--size",t[0][t[8]].emotion1),1&n&&Z!==(Z=t[0][t[8]].emotion2.toFixed(2)+"")&&x(M,Z),1&n&&k(P,"--size",t[0][t[8]].emotion2),1&n&&X!==(X=t[0][t[8]].emotion3.toFixed(2)+"")&&x(R,X),1&n&&k(F,"--size",t[0][t[8]].emotion3)},d(t){t&&c(e),t&&c(n),t&&c(o),t&&c(s),t&&c(u),t&&c(U),t&&c(K),D=!1,G()}}}function Vt(e){let n,o,i,s,d,g,y,x,w,k,b,_,S,C,E,T,$=Object.keys(e[0]),I=[];for(let t=0;t<$.length;t+=1)I[t]=Gt(Dt(e,$,t));return{c(){n=p("div"),o=p("img"),s=m(),d=p("h2"),d.textContent="Grupi tulemused",g=m(),y=p("p"),y.textContent=`Grupp: ${sessionStorage.group_name}`,x=m();for(let t=0;t<I.length;t+=1)I[t].c();w=m(),k=p("hr"),b=m(),_=p("button"),_.textContent="Tagasi",S=m(),C=p("button"),C.textContent="Logi välja",o.src!==(i="../pictures\\logo.png")&&v(o,"src","../pictures\\logo.png"),v(o,"alt","Harlog logo"),v(y,"class","pageinfo"),v(k,"class","svelte-puipbt"),v(n,"class","container")},m(t,r){l(t,n,r),a(n,o),a(n,s),a(n,d),a(n,g),a(n,y),a(n,x);for(let t=0;t<I.length;t+=1)I[t].m(n,null);a(n,w),a(n,k),a(n,b),a(n,_),a(n,S),a(n,C),E||(T=[f(_,"click",h(e[3])),f(C,"click",h(e[1]))],E=!0)},p(t,[e]){if(1&e){let o;for($=Object.keys(t[0]),o=0;o<$.length;o+=1){const r=Dt(t,$,o);I[o]?I[o].p(r,e):(I[o]=Gt(r),I[o].c(),I[o].m(n,w))}for(;o<I.length;o+=1)I[o].d(1);I.length=$.length}},i:t,o:t,d(t){t&&c(n),u(I,t),E=!1,r(T)}}}function Yt(t,e,n){null==sessionStorage.getItem("token")&&ut("/");let o,r={group_id:sessionStorage.getItem("group_id")},i={};const s=(t,e=0,n=0,o)=>{let r=0;const i=t.reduce(((t,o)=>(r+=n+1-e,[...t,...o.slice(e,n+1)])),[]);return null!=o&&i.forEach(((t,e)=>{o[e%o.length]&&(i[e]=6-t)})),i.reduce(((t,e)=>t+e),0)/r};!async function(){const t=await fetch("http://localhost:3000/getactivities",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(r)});t.ok&&(o=(await t.json()).rows,n(0,i=Array.from(new Set(o.map((t=>t.activity_id)))).reduce(((t,e)=>({...t,[e]:{name:"",answers:[]}})),{})),o.forEach((({activity_id:t,answer:e,activity_name:o})=>{i[t].answers.push(e),n(0,i[t].name=o,i)})),Object.entries(i).forEach((([,t])=>{const{answers:e}=t;t.emotion1=s(e,0,1,[!1,!0]),t.emotion2=s(e,2,3,[!1,!0]),t.emotion3=s(e,4,5)})))}();return[i,function(){sessionStorage.removeItem("token"),ut("/")},t=>{sessionStorage.setItem("activity_id",t),sessionStorage.setItem("activity_name",i[t].name),ut("/resultsactivity")},()=>{ut("/resultssession")}]}class Zt extends tt{constructor(t){super(),Q(this,t,Yt,Vt,s,{})}}function Xt(t,e,n){const o=t.slice();return o[8]=e[n],o}function Wt(t){let e,n,o,r,i,s,u,g,h,y,w,b,_,S,C,E,T,$,I,L,j,O,H,P,z,M,A,N,B,q,F,J,R,U,K,D,G,V=t[0][t[8]].name+"",Y=t[0][t[8]].emotion1.toFixed(2)+"",Z=t[0][t[8]].emotion2.toFixed(2)+"",X=t[0][t[8]].emotion3.toFixed(2)+"";function W(){return t[2](t[8])}return{c(){e=p("hr"),n=m(),o=p("p"),r=d("Nimi: "),i=d(V),s=m(),u=p("div"),g=p("table"),h=p("caption"),h.textContent="Bar Example #6",y=m(),w=p("thead"),w.innerHTML='<tr><th scope="col">Year</th> \n                    <th scope="col">Progress</th></tr>',b=m(),_=p("tbody"),S=p("tr"),C=p("th"),C.textContent="Käitumuslik",E=m(),T=p("td"),$=p("span"),I=d(Y),L=m(),j=p("tr"),O=p("th"),O.textContent="Emotsionaalne",H=m(),P=p("td"),z=p("span"),M=d(Z),A=m(),N=p("tr"),B=p("th"),B.textContent="Kognitiivne",q=m(),F=p("td"),J=p("span"),R=d(X),U=m(),K=p("button"),K.textContent="OSALEJA TULEMUSED",v(e,"class","svelte-1vdysle"),k(o,"margin-bottom","130px"),k(o,"text-align","left"),k(o,"padding-left","10px"),k(o,"color","#60495A"),k(o,"font-family","'Electrolize', sans-serif"),k(o,"font-weight","bold"),v(C,"scope","row"),k(C,"color","#084C61"),k(C,"font-size","75%"),v($,"class","data"),k(T,"--size",t[0][t[8]].emotion1),v(T,"class","svelte-1vdysle"),v(O,"scope","row"),k(O,"color","#084C61"),k(O,"font-size","75%"),v(z,"class","data"),k(P,"--size",t[0][t[8]].emotion2),v(P,"class","svelte-1vdysle"),v(B,"scope","row"),k(B,"color","#084C61"),k(B,"font-size","75%"),v(J,"class","data"),k(F,"--size",t[0][t[8]].emotion3),v(F,"class","svelte-1vdysle"),v(g,"id","my-chart"),v(g,"class","charts-css column show-labels data-spacing-20 show-primary-axis  svelte-1vdysle"),v(u,"class","resultcontainer svelte-1vdysle")},m(t,c){l(t,e,c),l(t,n,c),l(t,o,c),a(o,r),a(o,i),l(t,s,c),l(t,u,c),a(u,g),a(g,h),a(g,y),a(g,w),a(g,b),a(g,_),a(_,S),a(S,C),a(S,E),a(S,T),a(T,$),a($,I),a(_,L),a(_,j),a(j,O),a(j,H),a(j,P),a(P,z),a(z,M),a(_,A),a(_,N),a(N,B),a(N,q),a(N,F),a(F,J),a(J,R),l(t,U,c),l(t,K,c),D||(G=f(K,"click",W),D=!0)},p(e,n){t=e,1&n&&V!==(V=t[0][t[8]].name+"")&&x(i,V),1&n&&Y!==(Y=t[0][t[8]].emotion1.toFixed(2)+"")&&x(I,Y),1&n&&k(T,"--size",t[0][t[8]].emotion1),1&n&&Z!==(Z=t[0][t[8]].emotion2.toFixed(2)+"")&&x(M,Z),1&n&&k(P,"--size",t[0][t[8]].emotion2),1&n&&X!==(X=t[0][t[8]].emotion3.toFixed(2)+"")&&x(R,X),1&n&&k(F,"--size",t[0][t[8]].emotion3)},d(t){t&&c(e),t&&c(n),t&&c(o),t&&c(s),t&&c(u),t&&c(U),t&&c(K),D=!1,G()}}}function Qt(e){let n,o,i,s,d,g,y,x,w,k,b,_,S,C,E,T,$,I,L=Object.keys(e[0]),j=[];for(let t=0;t<L.length;t+=1)j[t]=Wt(Xt(e,L,t));return{c(){n=p("div"),o=p("img"),s=m(),d=p("h2"),d.textContent="Tegevuse tulemused",g=m(),y=p("p"),y.textContent=`Grupp: ${sessionStorage.group_name}`,x=m(),w=p("p"),w.textContent=`Tegevus: ${sessionStorage.activity_name}`,k=m();for(let t=0;t<j.length;t+=1)j[t].c();b=m(),_=p("hr"),S=m(),C=p("button"),C.textContent="Tagasi",E=m(),T=p("button"),T.textContent="Logi välja",o.src!==(i="../pictures\\logo.png")&&v(o,"src","../pictures\\logo.png"),v(o,"alt","Harlog logo"),v(y,"class","pageinfo"),v(w,"class","pageinfo"),v(_,"class","svelte-1vdysle"),v(n,"class","container")},m(t,r){l(t,n,r),a(n,o),a(n,s),a(n,d),a(n,g),a(n,y),a(n,x),a(n,w),a(n,k);for(let t=0;t<j.length;t+=1)j[t].m(n,null);a(n,b),a(n,_),a(n,S),a(n,C),a(n,E),a(n,T),$||(I=[f(C,"click",h(e[3])),f(T,"click",h(e[1]))],$=!0)},p(t,[e]){if(1&e){let o;for(L=Object.keys(t[0]),o=0;o<L.length;o+=1){const r=Xt(t,L,o);j[o]?j[o].p(r,e):(j[o]=Wt(r),j[o].c(),j[o].m(n,b))}for(;o<j.length;o+=1)j[o].d(1);j.length=L.length}},i:t,o:t,d(t){t&&c(n),u(j,t),$=!1,r(I)}}}function te(t,e,n){null==sessionStorage.getItem("token")&&ut("/");let o,r={activity_id:sessionStorage.getItem("activity_id")},i={};const s=(t,e=0,n=0,o)=>{let r=0;const i=t.reduce(((t,o)=>(r+=n+1-e,[...t,...o.slice(e,n+1)])),[]);return null!=o&&i.forEach(((t,e)=>{o[e%o.length]&&(i[e]=6-t)})),i.reduce(((t,e)=>t+e),0)/r};!async function(){const t=await fetch("http://localhost:3000/getparticipants",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(r)});t.ok&&(o=(await t.json()).rows,n(0,i=Array.from(new Set(o.map((t=>t.part_id)))).reduce(((t,e)=>({...t,[e]:{name:"",answers:[]}})),{})),o.forEach((({part_id:t,answer:e,part_name:o})=>{i[t].answers.push(e),n(0,i[t].name=o,i)})),Object.entries(i).forEach((([,t])=>{const{answers:e}=t;t.emotion1=s(e,0,1,[!1,!0]),t.emotion2=s(e,2,3,[!1,!0]),t.emotion3=s(e,4,5)})))}();return[i,function(){sessionStorage.removeItem("token"),ut("/")},t=>{sessionStorage.setItem("part_id",t),sessionStorage.setItem("part_name",i[t].name),ut("/resultsparticipant")},()=>{ut("/resultsgroup")}]}class ee extends tt{constructor(t){super(),Q(this,t,te,Qt,s,{})}}function ne(t,e,n){const o=t.slice();return o[7]=e[n],o}function oe(t){let e,n,o,r,i,s,u,g,f,h,y,w,b,_,S,C,E,T,$,I,L,j,O,H,P,z,M,A,N,B,q,F,J,R=t[0][t[7]].name+"",U=t[0][t[7]].emotion1.toFixed(2)+"",K=t[0][t[7]].emotion2.toFixed(2)+"",D=t[0][t[7]].emotion3.toFixed(2)+"";return{c(){e=p("hr"),n=m(),o=p("p"),r=d("Tegevus: "),i=d(R),s=m(),u=p("div"),g=p("table"),f=p("caption"),f.textContent="Bar Example #6",h=m(),y=p("thead"),y.innerHTML='<tr><th scope="col">Year</th> \n                    <th scope="col">Progress</th></tr>',w=m(),b=p("tbody"),_=p("tr"),S=p("th"),S.textContent="Käitumuslik",C=m(),E=p("td"),T=p("span"),$=d(U),I=m(),L=p("tr"),j=p("th"),j.textContent="Emotsionaalne",O=m(),H=p("td"),P=p("span"),z=d(K),M=m(),A=p("tr"),N=p("th"),N.textContent="Kognitiivne",B=m(),q=p("td"),F=p("span"),J=d(D),v(e,"class","svelte-odgo6w"),k(o,"margin-bottom","130px"),k(o,"text-align","left"),k(o,"padding-left","10px"),k(o,"color","#60495A"),k(o,"font-family","'Electrolize', sans-serif"),k(o,"font-weight","bold"),v(S,"scope","row"),k(S,"color","#084C61"),k(S,"font-size","75%"),v(T,"class","data"),k(E,"--size",t[0][t[7]].emotion1),v(E,"class","svelte-odgo6w"),v(j,"scope","row"),k(j,"color","#084C61"),k(j,"font-size","75%"),v(P,"class","data"),k(H,"--size",t[0][t[7]].emotion2),v(H,"class","svelte-odgo6w"),v(N,"scope","row"),k(N,"color","#084C61"),k(N,"font-size","75%"),v(F,"class","data"),k(q,"--size",t[0][t[7]].emotion3),v(q,"class","svelte-odgo6w"),v(g,"id","my-chart"),v(g,"class","charts-css column show-labels data-spacing-20 show-primary-axis  svelte-odgo6w"),v(u,"class","resultcontainer svelte-odgo6w")},m(t,c){l(t,e,c),l(t,n,c),l(t,o,c),a(o,r),a(o,i),l(t,s,c),l(t,u,c),a(u,g),a(g,f),a(g,h),a(g,y),a(g,w),a(g,b),a(b,_),a(_,S),a(_,C),a(_,E),a(E,T),a(T,$),a(b,I),a(b,L),a(L,j),a(L,O),a(L,H),a(H,P),a(P,z),a(b,M),a(b,A),a(A,N),a(A,B),a(A,q),a(q,F),a(F,J)},p(t,e){1&e&&R!==(R=t[0][t[7]].name+"")&&x(i,R),1&e&&U!==(U=t[0][t[7]].emotion1.toFixed(2)+"")&&x($,U),1&e&&k(E,"--size",t[0][t[7]].emotion1),1&e&&K!==(K=t[0][t[7]].emotion2.toFixed(2)+"")&&x(z,K),1&e&&k(H,"--size",t[0][t[7]].emotion2),1&e&&D!==(D=t[0][t[7]].emotion3.toFixed(2)+"")&&x(J,D),1&e&&k(q,"--size",t[0][t[7]].emotion3)},d(t){t&&c(e),t&&c(n),t&&c(o),t&&c(s),t&&c(u)}}}function re(e){let n,o,i,s,d,g,y,x,w,k,b,_,S,C,E,T,$,I,L=Object.keys(e[0]),j=[];for(let t=0;t<L.length;t+=1)j[t]=oe(ne(e,L,t));return{c(){n=p("div"),o=p("img"),s=m(),d=p("h2"),d.textContent="Osaleja tulemused",g=m(),y=p("p"),y.textContent=`Grupp: ${sessionStorage.group_name}`,x=m(),w=p("p"),w.textContent=`Nimi: ${sessionStorage.part_name}`,k=m();for(let t=0;t<j.length;t+=1)j[t].c();b=m(),_=p("hr"),S=m(),C=p("button"),C.textContent="Tagasi",E=m(),T=p("button"),T.textContent="Logi välja",o.src!==(i="../pictures\\logo.png")&&v(o,"src","../pictures\\logo.png"),v(o,"alt","Harlog logo"),v(y,"class","pageinfo"),v(w,"class","pageinfo"),v(_,"class","svelte-odgo6w"),v(n,"class","container")},m(t,r){l(t,n,r),a(n,o),a(n,s),a(n,d),a(n,g),a(n,y),a(n,x),a(n,w),a(n,k);for(let t=0;t<j.length;t+=1)j[t].m(n,null);a(n,b),a(n,_),a(n,S),a(n,C),a(n,E),a(n,T),$||(I=[f(C,"click",h(e[2])),f(T,"click",h(e[1]))],$=!0)},p(t,[e]){if(1&e){let o;for(L=Object.keys(t[0]),o=0;o<L.length;o+=1){const r=ne(t,L,o);j[o]?j[o].p(r,e):(j[o]=oe(r),j[o].c(),j[o].m(n,b))}for(;o<j.length;o+=1)j[o].d(1);j.length=L.length}},i:t,o:t,d(t){t&&c(n),u(j,t),$=!1,r(I)}}}function ie(t,e,n){null==sessionStorage.getItem("token")&&ut("/");let o,r={part_id:sessionStorage.getItem("part_id"),group_id:sessionStorage.getItem("group_id")},i={};const s=(t,e=0,n=0,o)=>{let r=0;const i=t.reduce(((t,o)=>(r+=n+1-e,[...t,...o.slice(e,n+1)])),[]);return null!=o&&i.forEach(((t,e)=>{o[e%o.length]&&(i[e]=6-t)})),i.reduce(((t,e)=>t+e),0)/r};!async function(){const t=await fetch("http://localhost:3000/getparticipantactivities",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(r)});t.ok&&(o=(await t.json()).rows,n(0,i=Array.from(new Set(o.map((t=>t.activity_id)))).reduce(((t,e)=>({...t,[e]:{name:"",answers:[]}})),{})),o.forEach((({activity_id:t,answer:e,activity_name:o})=>{i[t].answers.push(e),n(0,i[t].name=o,i)})),Object.entries(i).forEach((([,t])=>{const{answers:e}=t;t.emotion1=s(e,0,1,[!1,!0]),t.emotion2=s(e,2,3,[!1,!0]),t.emotion3=s(e,4,5)})))}();return[i,function(){sessionStorage.removeItem("token"),ut("/")},()=>{ut("/resultsactivity")}]}class se extends tt{constructor(t){super(),Q(this,t,ie,re,s,{})}}function ae(t,e,n){const o=t.slice();return o[18]=e[n],o}function le(t,e,n){const o=t.slice();return o[21]=e[n],o}function ce(t,e,n){const o=t.slice();return o[25]=e[n],o}function ue(e){return{c:t,m:t,p:t,d:t}}function pe(t){let e,n=t[24],o=[];for(let e=0;e<n.length;e+=1)o[e]=de(ce(t,n,e));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=g()},m(t,n){for(let e=0;e<o.length;e+=1)o[e].m(t,n);l(t,e,n)},p(t,r){if(0&r){let i;for(n=t[24],i=0;i<n.length;i+=1){const s=ce(t,n,i);o[i]?o[i].p(s,r):(o[i]=de(s),o[i].c(),o[i].m(e.parentNode,e))}for(;i<o.length;i+=1)o[i].d(1);o.length=n.length}},d(t){u(o,t),t&&c(e)}}}function de(e){let n,o,r=e[25].group_name+"";return{c(){n=p("option"),o=d(r),n.__value=e[25].group_id,n.value=n.__value},m(t,e){l(t,n,e),a(n,o)},p:t,d(t){t&&c(n)}}}function me(e){let n;return{c(){n=p("p"),n.textContent="Loading groups..."},m(t,e){l(t,n,e)},p:t,d(t){t&&c(n)}}}function ge(t){let e,n,o,s,u,d={ctx:t,current:null,token:null,hasCatch:!1,pending:ye,then:he,catch:fe,value:6};return G(o=Ce(t[2]),d),{c(){e=p("select"),n=p("option"),n.textContent="Select activity",d.block.c(),n.__value=null,n.value=n.__value,v(e,"class","svelte-1869bd3")},m(o,r){l(o,e,r),a(e,n),d.block.m(e,d.anchor=null),d.mount=()=>e,d.anchor=null,s||(u=[f(e,"change",t[9]),f(e,"change",(function(){i(t[2].activity_id=this.value)&&(t[2].activity_id=this.value).apply(this,arguments)}))],s=!0)},p(e,n){if(t=e,d.ctx=t,4&n&&o!==(o=Ce(t[2]))&&G(o,d));else{const e=t.slice();e[6]=d.resolved,d.block.p(e,n)}},d(t){t&&c(e),d.block.d(),d.token=null,d=null,s=!1,r(u)}}}function fe(e){return{c:t,m:t,p:t,d:t}}function he(t){let e,n=t[6],o=[];for(let e=0;e<n.length;e+=1)o[e]=ve(le(t,n,e));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=g()},m(t,n){for(let e=0;e<o.length;e+=1)o[e].m(t,n);l(t,e,n)},p(t,r){if(4&r){let i;for(n=t[6],i=0;i<n.length;i+=1){const s=le(t,n,i);o[i]?o[i].p(s,r):(o[i]=ve(s),o[i].c(),o[i].m(e.parentNode,e))}for(;i<o.length;i+=1)o[i].d(1);o.length=n.length}},d(t){u(o,t),t&&c(e)}}}function ve(t){let e,n,o,r=t[21].activity_name+"";return{c(){e=p("option"),n=d(r),e.__value=o=t[21].activity_id,e.value=e.__value},m(t,o){l(t,e,o),a(e,n)},p(t,i){4&i&&r!==(r=t[21].activity_name+"")&&x(n,r),4&i&&o!==(o=t[21].activity_id)&&(e.__value=o,e.value=e.__value)},d(t){t&&c(e)}}}function ye(e){let n;return{c(){n=p("p"),n.textContent="Loading activities..."},m(t,e){l(t,n,e)},p:t,d(t){t&&c(n)}}}function xe(t){let e,n,o,r,s,u={ctx:t,current:null,token:null,hasCatch:!1,pending:_e,then:ke,catch:we,value:5};return G(o=Ee(t[2]),u),{c(){e=p("select"),n=p("option"),n.textContent="Select participant ",u.block.c(),n.__value=null,n.value=n.__value,v(e,"class","svelte-1869bd3")},m(o,c){l(o,e,c),a(e,n),u.block.m(e,u.anchor=null),u.mount=()=>e,u.anchor=null,r||(s=f(e,"change",(function(){i(t[2].part_id=this.value)&&(t[2].part_id=this.value).apply(this,arguments)})),r=!0)},p(e,n){if(t=e,u.ctx=t,4&n&&o!==(o=Ee(t[2]))&&G(o,u));else{const e=t.slice();e[5]=u.resolved,u.block.p(e,n)}},d(t){t&&c(e),u.block.d(),u.token=null,u=null,r=!1,s()}}}function we(e){return{c:t,m:t,p:t,d:t}}function ke(t){let e,n=t[5],o=[];for(let e=0;e<n.length;e+=1)o[e]=be(ae(t,n,e));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=g()},m(t,n){for(let e=0;e<o.length;e+=1)o[e].m(t,n);l(t,e,n)},p(t,r){if(4&r){let i;for(n=t[5],i=0;i<n.length;i+=1){const s=ae(t,n,i);o[i]?o[i].p(s,r):(o[i]=be(s),o[i].c(),o[i].m(e.parentNode,e))}for(;i<o.length;i+=1)o[i].d(1);o.length=n.length}},d(t){u(o,t),t&&c(e)}}}function be(t){let e,n,o,r=t[18].part_name+"";return{c(){e=p("option"),n=d(r),e.__value=o=t[18].part_id,e.value=e.__value},m(t,o){l(t,e,o),a(e,n)},p(t,i){4&i&&r!==(r=t[18].part_name+"")&&x(n,r),4&i&&o!==(o=t[18].part_id)&&(e.__value=o,e.value=e.__value)},d(t){t&&c(e)}}}function _e(e){let n;return{c(){n=p("p"),n.textContent="Loading participants..."},m(t,e){l(t,n,e)},p:t,d(t){t&&c(n)}}}function Se(e){let n,o,i,s,u,d,g,y,x,w,_,S,C,E,T,$,I,L,j,O,H,P,z,A,N,B,q,F,J,R,U,K,D={ctx:e,current:null,token:null,hasCatch:!1,pending:me,then:pe,catch:ue,value:24};G(async function(){const t=await fetch("http://localhost:3000/listgroup",{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:sessionStorage.getItem("token")},redirect:"follow",referrerPolicy:"no-referrer"});if(t.ok)return await t.json()}(),D);let V=e[0]&&ge(e),Y=e[1]&&xe(e);return{c(){n=p("div"),o=p("div"),i=p("img"),u=m(),d=p("h2"),d.textContent="Tulemuste võrdlus:",g=m(),y=p("form"),x=p("label"),x.textContent="Vali esimene grupp",w=m(),_=p("select"),S=p("option"),S.textContent="Select group",D.block.c(),C=m(),V&&V.c(),E=m(),Y&&Y.c(),T=m(),$=p("button"),$.textContent="Reset",I=m(),L=p("button"),L.textContent="Lisa võrdlusesse",j=m(),O=p("br"),H=m(),P=p("p"),z=m(),A=p("div"),A.innerHTML='<table id="my-chart" class="charts-css column multiple data-spacing-3 show-labels show-primary-axis svelte-1869bd3"><caption>Column Example #5</caption> \n        <tbody id="charts"></tbody></table>',N=m(),B=p("hr"),q=m(),F=p("button"),F.textContent="Tagasi",J=m(),R=p("button"),R.textContent="Logi välja",i.src!==(s="../pictures\\logo.png")&&v(i,"src","../pictures\\logo.png"),v(i,"alt","Harlog logo"),v(d,"class","title"),v(x,"for","groups"),S.__value=null,S.value=S.__value,v(_,"class","svelte-1869bd3"),void 0===e[2].group_id&&M((()=>e[7].call(_))),v(o,"class","container"),k(P,"margin-bottom","130px"),k(P,"text-align","left"),k(P,"padding-left","10px"),k(P,"color","#60495A"),k(P,"font-family","'Electrolize', sans-serif"),k(P,"font-weight","bold"),v(A,"class","resultcontainer svelte-1869bd3"),v(B,"class","svelte-1869bd3"),v(n,"class","container")},m(t,r){l(t,n,r),a(n,o),a(o,i),a(o,u),a(o,d),a(o,g),a(o,y),a(y,x),a(y,w),a(y,_),a(_,S),D.block.m(_,D.anchor=null),D.mount=()=>_,D.anchor=null,b(_,e[2].group_id),a(y,C),V&&V.m(y,null),a(y,E),Y&&Y.m(y,null),a(o,T),a(o,$),a(o,I),a(o,L),a(n,j),a(n,O),a(n,H),a(n,P),a(n,z),a(n,A),a(n,N),a(n,B),a(n,q),a(n,F),a(n,J),a(n,R),U||(K=[f(_,"change",e[7]),f(_,"change",e[8]),f($,"click",e[10]),f(L,"click",e[11]),f(F,"click",h(e[12])),f(R,"click",h(e[3]))],U=!0)},p(t,[n]){{const o=(e=t).slice();o[24]=D.resolved,D.block.p(o,n)}4&n&&b(_,e[2].group_id),e[0]?V?V.p(e,n):(V=ge(e),V.c(),V.m(y,E)):V&&(V.d(1),V=null),e[1]?Y?Y.p(e,n):(Y=xe(e),Y.c(),Y.m(y,null)):Y&&(Y.d(1),Y=null)},i:t,o:t,d(t){t&&c(n),D.block.d(),D.token=null,D=null,V&&V.d(),Y&&Y.d(),U=!1,r(K)}}}async function Ce(t){const e=await fetch("http://localhost:3000/listactivities",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(t)});if(e.ok)return await e.json()}async function Ee(t){const e=await fetch("http://localhost:3000/listparticipants",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(t)});if(e.ok)return await e.json()}function Te(t,e,n){null==sessionStorage.getItem("token")&&ut("/");let o,r=!1,i=!1,s={group_id:null,activity_id:null,part_id:null},a={emotion1:0,emotion2:0,emotion3:0};const l=(t,e=0,n=0,o)=>{const r=t.slice(e,n+1);return null!=o&&r.forEach(((t,e)=>{o[e%o.length]&&(r[e]=6-t)})),r.reduce(((t,e)=>t+e),0)/r.length};async function c(t){const e=Object.entries(t).reduce(((t,[e,n])=>null!==n&&"null"!==n?{...t,[e]:n}:t),{}),n=await fetch("http://localhost:3000/getcomparisondata",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(e)});if(n.ok){o=(await n.json()).rows;let t=0,e={emotion1:0,emotion2:0,emotion3:0};for(let n of o)a.emotion1=n.emotion1=l(n.answer,0,1,[!1,!0]),a.emotion2=n.emotion2=l(n.answer,2,3,[!1,!0]),a.emotion3=n.emotion3=l(n.answer,4,5),e.emotion1+=a.emotion1,e.emotion2+=a.emotion2,e.emotion3+=a.emotion3,t+=1;e.emotion1/=t,e.emotion2/=t,e.emotion3/=t;let r=document.getElementById("charts"),i=document.createElement("tr");for(let t=0;t<3;t++){let n=document.createElement("td"),o=e[`emotion${t+1}`];n.setAttribute("style",`--size:${o}`),n.textContent=e[`emotion${t+1}`],i.appendChild(n)}r.appendChild(i)}}return[r,i,s,function(){sessionStorage.removeItem("token"),ut("/")},c,{},{},function(){s.group_id=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),n(2,s)},()=>{n(0,r=!0)},()=>{n(1,i=!0)},()=>{window.location.reload()},()=>{c(s)},()=>{ut("/userpanel")}]}class $e extends tt{constructor(t){super(),Q(this,t,Te,Se,s,{})}}function Ie(e){let n,o,r;return o=new dt({props:{routes:e[0]}}),{c(){n=p("div"),Z(o.$$.fragment),v(n,"class","router-div svelte-1m1smgk")},m(t,e){l(t,n,e),X(o,n,null),r=!0},p:t,i(t){r||(K(o.$$.fragment,t),r=!0)},o(t){D(o.$$.fragment,t),r=!1},d(t){t&&c(n),W(o)}}}function Le(t){return[{"/":vt,"/userpanel":wt,"/startsession":$t,"/resultssession":Mt,"/registerpage":Bt,"/activesession":Jt,"/questionpage":Kt,"/resultsgroup":Zt,"/resultsactivity":ee,"/resultsparticipant":se,"/comparisongroup":$e}]}return new class extends tt{constructor(t){super(),Q(this,t,Le,Ie,s,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
